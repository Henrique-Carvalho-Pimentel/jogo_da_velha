const boardRegions=document.querySelectorAll("#gameBoard span");let vBoard=[],turnPlayer="";function updateTitle(){var r=document.getElementById(turnPlayer);document.getElementById("turnPlayer").innerText=r.value}function initializeGame(){vBoard=[["","",""],["","",""],["","",""]],turnPlayer="player1",document.querySelector("h2").innerHTML='Vez de: <span id = "turnPlayer"></span>',updateTitle(),boardRegions.forEach(function(r){r.classList.remove("win"),r.innerText="",r.classList.add("cursor-pointer"),r.addEventListener("click",handleBoardClick)})}function getWinRegions(){const r=[];return vBoard[0][0]&&vBoard[0][0]===vBoard[0][1]&&vBoard[0][0]===vBoard[0][2]&&r.push("0.0","0.1","0.2"),vBoard[1][0]&&vBoard[1][0]===vBoard[1][1]&&vBoard[1][0]===vBoard[1][2]&&r.push("1.0","1.1","1.2"),vBoard[2][0]&&vBoard[2][0]===vBoard[2][1]&&vBoard[2][0]===vBoard[2][2]&&r.push("0.0","0.1","0.2"),vBoard[0][0]&&vBoard[0][0]===vBoard[0][1]&&vBoard[0][0]===vBoard[0][2]&&r.push("2.0","2.1","2.2"),vBoard[0][0]&&vBoard[0][0]===vBoard[1][0]&&vBoard[0][0]===vBoard[2][0]&&r.push("0.0","1.0","2.0"),vBoard[0][1]&&vBoard[0][1]===vBoard[1][1]&&vBoard[0][1]===vBoard[2][1]&&r.push("0.1","1.1","2.1"),vBoard[0][2]&&vBoard[0][2]===vBoard[1][2]&&vBoard[0][2]===vBoard[2][2]&&r.push("0.2","1.2","2.2"),vBoard[0][0]&&vBoard[0][0]===vBoard[1][1]&&vBoard[0][0]===vBoard[2][2]&&r.push("0.0","1.1","2.2"),vBoard[0][2]&&vBoard[0][2]===vBoard[1][1]&&vBoard[0][2]===vBoard[2][0]&&r.push("0.0","0.1","0,2"),r}function disableRegion(r){r.classList.remove("cursor-pointer"),r.removeEventListener("click",handleBoardClick)}function handleWin(r){r.forEach(function(r){document.querySelector('[data-region ="'+r+'"]').classList.add("win")});r=document.getElementById(turnPlayer).value;document.querySelector("h2").innerHTML=r+" vanceu!"}function handleBoardClick(r){const e=r.currentTarget,a=e.dataset.region;var o=a.split("."),n=o[0],o=o[1];"player1"===turnPlayer?(r.currentTarget.innerText="X",vBoard[n][o]="X"):(e.innerText="O",vBoard[n][o]="O"),console.clear(),console.table(vBoard),disableRegion(e);o=getWinRegions();0<o.length?handleWin(o):vBoard.flat().includes("")?(turnPlayer="player1"===turnPlayer?"player2":"player1",updateTitle()):querySelector("h2").innerHTML="Velha!"}document.getElementById("start").addEventListener("click",initializeGame);